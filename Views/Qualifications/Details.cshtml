@model SkillsManagement.Models.Qualification
@{
    ViewData["Title"] = "Qualification Details";
    var employee = ViewBag.Employee as SkillsManagement.Models.Employee;
}

    @section Styles {
        <link rel="stylesheet" href="~/css/qdetails.css" /> 
    }

<div class="page-header mb-4">
    <div>
        <a asp-action="ByEmployee" asp-route-employeeId="@Model.EmployeeId" class="btn btn-outline-secondary mb-2">
            <i class="fas fa-arrow-left"></i> Back to Employee Qualifications
        </a>
        <h2>Qualification Details</h2>
        <p class="text-muted">Detailed information about this qualification</p>
    </div>
    <div>
        <form asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this qualification? This action cannot be undone.');">
            @Html.AntiForgeryToken()
            <button type="submit" class="btn btn-danger">
                <i class="fas fa-trash"></i> Delete Qualification
            </button>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <!-- Main Details Card -->
        <div class="card detail-card mb-4">
            <div class="card-body">
                <div class="detail-header">
                    <div class="detail-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div>
                        <h3>@Model.Title</h3>
                        <p class="institution-name">
                            <i class="fas fa-university"></i>
                            @Model.Institution
                        </p>
                    </div>
                </div>

                <div class="detail-section">
                    <h5><i class="fas fa-info-circle"></i> Details</h5>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Completion Date</label>
                            <p>@Model.CompletionDate.ToString("MMMM dd, yyyy")</p>
                        </div>
                        <div class="detail-item">
                            <label>Years Since Completion</label>
                            <p>@((DateTime.Now - Model.CompletionDate).Days / 365) years</p>
                        </div>
                        <div class="detail-item">
                            <label>Added to System</label>
                            <p>@Model.CreatedDate.ToString("MMM dd, yyyy")</p>
                        </div>
                    </div>
                </div>

                @if (!string.IsNullOrEmpty(Model.Description))
                {
                    <div class="detail-section">
                        <h5><i class="fas fa-align-left"></i> Description</h5>
                        <div class="description-box">
                            <p>@Model.Description</p>
                        </div>
                    </div>
                }
            </div>
        </div>

        <!-- Timeline Card -->
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-clock"></i> Timeline</h5>
            </div>
            <div class="card-body">
                <div class="timeline-simple">
                    <div class="timeline-event">
                        <div class="timeline-dot completed"></div>
                        <div class="timeline-info">
                            <strong>Qualification Completed</strong>
                            <p>@Model.CompletionDate.ToString("MMMM dd, yyyy")</p>
                        </div>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-dot"></div>
                        <div class="timeline-info">
                            <strong>Added to System</strong>
                            <p>@Model.CreatedDate.ToString("MMMM dd, yyyy")</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <!-- Employee Card -->
        <div class="card employee-card mb-4">
            <div class="card-header">
                <h5><i class="fas fa-user"></i> Employee Information</h5>
            </div>
            <div class="card-body text-center">
                <div class="employee-avatar-large">
                    @employee?.FullName.Substring(0, 1)
                </div>
                <h4>@employee?.FullName</h4>
                <p class="text-muted mb-2">@employee?.Role</p>
                <p class="text-muted mb-3">@employee?.Department</p>
                <a asp-controller="Employees" asp-action="Details" asp-route-id="@employee?.Id" class="btn btn-primary w-100">
                    <i class="fas fa-user"></i> View Full Profile
                </a>
            </div>
        </div>

        <!-- Quick Stats Card -->
        <div class="card stats-card">
            <div class="card-header">
                <h5><i class="fas fa-chart-bar"></i> Quick Stats</h5>
            </div>
            <div class="card-body">
                <div class="stat-item">
                    <div class="stat-label">Status</div>
                    <div class="stat-value">
                        <span class="badge bg-success">Completed</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Age of Qualification</div>
                    <div class="stat-value">@((DateTime.Now - Model.CompletionDate).Days / 365) years</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Record ID</div>
                    <div class="stat-value">
                        <small class="text-muted">@Model.Id</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

